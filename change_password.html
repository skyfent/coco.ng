<!DOCTYPE html>
<html lang="en">
<head> 
<meta charset="UTF-8">  
<meta name="robots" content="index, follow"> 

<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
<meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"/>
<meta name="theme-color" content="#589442"/>
<meta name="copyright" content="Coco Digital Services"/>   
<meta name="author" content="Skyfent Developers">
<meta name="referrer" content="origin-when-cross-origin">
<meta name="apple-itunes-app" content="app-argument=https://www.cocobills.com"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="Utility Bill Payment Online | Pay Electricity | Subscribe DSTV, GOTv, Airtime & Data Online">
<meta name="msapplication-TileImage" content="/img/favicon.png">
<meta name="msapplication-TileColor" content="#589442">
<meta name="mobile-web-app-capable" content="yes">
<meta property="og:url" content="https://cocobills.com"/>
<meta property="og:type" content="website"/>
<meta property="og:title" content="Utility Bill Payment Online | Pay Electricity | Subscribe DSTV, GOTv, Airtime & Data Online"/>
<meta property="og:image" content="https://cocobills.com/img/logo_sticky.png"/>
<meta property="og:description" content="Pay utility bills online, Subscribe Cable TV & Buy Electricity Unit"/>

<meta property="og:phone_number" content="08085944448"/>
<meta property="og:email" content="hi@cocobills.com"/>
<meta property="phone_number" content="08085944448"/>
<meta property="email" content="support@cocobills.com"/>
<meta property="fb:app_id" content="189285973206700"/>
<meta name="format-detection" content="telephone=no"/> 
<meta content="yes" name="apple-touch-fullscreen"/>  

<meta name="keywords" content="dstv subscribe. dstvafrica packages. go tv package. go tv subscription. channels in gotv. dstv channels and packages. dstv sub packages. dstv subscription payment.dstv subscription prices. go tv packages and prices. Buy electricity online. Prepaid electricity. Prepaid electricity units. How to Buy power. Effortless coco online. Pay electricity bills Easy, Effortless and Simple. buy power aedc. Nepa PHCN units online. Card USSD bank payment. coco nigeria. coco abuja. Pay as you go electricity. cocobills.com, coco, Recharge Electricity Abuja. Recharge Electricity Nigeria. Online purchase for Abuja Disco. Prepaid meter tokens, Electricity online in nigeria. Recharge your meter in nigeria. PHCN meter recharge. NEPA meter recharge. Online electricity pin recharge. Purchase electricity, Electricity pins, Electricity tokens, light, purchase light online, Nigerian electricity"/>

<meta name="description" content="Pay electricity bills online, Subscribe DSTV and GOTV online. Recharge electricity for Postpaid and Prepaid Meter Unit Online and get instant token for AEDC Payment, PHED bills payment, IBEDC payment, Ikeja electric bill."/>
 


    

	<!-- FAVICONS ICON -->
	<link rel="icon" href="images/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" type="image/x-icon" href="images/favicon.png">
	
	<!-- PAGE TITLE HERE -->
	<title>Utility Bill Payment Online | Pay Electricity | Subscribe DSTV, GOTv, Airtime & Data Online </title>

	<!-- MOBILE SPECIFIC -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<!--[if lt IE 9]>
	<script src="js/html5shiv.min.js"></script>
	<script src="js/respond.min.js"></script>
	<![endif]-->
	
	<!-- STYLESHEETS -->
	<link rel="stylesheet" type="text/css" href="css/plugins.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/templete.css">
	<link class="skin" rel="stylesheet" type="text/css" href="css/skin/skin-1.css">
	<!-- <link class="skin" rel="stylesheet" type="text/css" href="css/dark-layout.css"> -->
	<!-- <link rel="stylesheet" type="text/css" href="plugins/switcher/css/switcher.css"> -->
	
	
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ajax-bootstrap-select/1.4.5/css/ajax-bootstrap-select.min.css"> -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
	
	<!-- Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
	<!-- <link href="../css2?family=Lato:wght@100;300;400;700;900&family=Montserrat:wght@100;200;300;400;500;600;700;800;900&family=Roboto:wght@100;300;400;500;700;900&family=Rubik:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet"> -->

	<style>
		 
		@media screen and (min-width: 600px) {
			.nav-mobile {
			display: none;
		}
		}
	</style>

</head>
<body id="bg">
<!-- <div id="loading-area"></div> -->
<div class="page-wraper">
	<!-- header -- >
    <header class="site-header mo-left header fullwidth">
		<!-- Main Header -- >
        <div class="sticky-header main-bar-wraper navbar-expand-lg">
            <div class="main-bar clearfix">
                <div class="container clearfix">
                    <!-- Website Logo -- >
                    <div class="logo-header mostion">
						<a href="/" class="logo"><img src="images/logo.png" alt=""></a>
						<a href="/" class="logo-white"><img src="images/logo.png" alt=""></a>
					</div>
                    <!-- Nav Toggle Button -- >
                    <button class="navbar-toggler collapsed navicon justify-content-end" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
						<span></span>
						<span></span>
						<span></span>
					</button>
                    <!-- Extra Nav -- >
                    <div class="extra-nav">
                        <div class="extra-cell">
						<!--	<a href="javascript:void(0);" class="layout-btn">
								<input type="checkbox">
								<span class="mode-label"></span>
							</a>
						-- >
						<a href="#" class="site-button"><i class="fa fa-mobile-alt"></i>  0808 594 4448 </a>
						<a href="javascript:void(0);" title="READ MORE" rel="bookmark" data-bs-toggle="modal" data-bs-target="#car-details" class="site-button"><i class="fa fa-lock"></i> My Account  </a>
                        </div>
                    </div>
                     
                    <div class="header-nav navbar-collapse collapse justify-content-start" id="navbarNavDropdown">
						<div class="logo-header">
							<a href="/" class="logo"><img src="images/logo.png" alt=""></a>
							<a href="/" class="logo-white"><img src="images/logo.png" alt=""></a>
						</div>
                        <ul class="nav navbar-nav nav-mobile">
							 

							<li><a href="/" class="dez-page">Home </a></li>
							<li><a href="javascript:void(0);" class="dez-page">My Account <i class="fa fa-angle-right"></i></a>
								<ul class="sub-menu">
									<li><a href="login.html" class="dez-page">Login</a></li>
									<li><a href="signup.html" class="dez-page"> Register </a></li> 
									<li><a href="dashboard.html" class="dez-page"> Dashboard </a></li> 
								</ul>
							</li>
							
							<li><a href="#footer" class="dez-page">Contact Us</a></li>
							<li><br><br><br></li>

							<li><a href="wallet.php" class="site-button"><i class="fa fa-wallet"></i> Balance N0.00 </a>
																</li>
					 
						</ul>	 
                    </div>
                </div>
            </div>
        </div>
    </header>
        <!-- Main Header END -->

    <div id="header"></div>

    <!-- header END -->
    <!-- Content -->
    <div class="page-content">
        <!-- inner page banner -->
        <div class="dez-bnr-inr overlay-black-middle bg-pt" style="background-image:url(images/banner/headimg.jpg);">
            <div class="container">
                <div class="dez-bnr-inr-entry">
                    <h1 class="text-white"> CHANGE PASSWORD </h1>
					<!-- Breadcrumb row -->
					<div class="breadcrumb-row">
						<ul class="list-inline">
							<li><a href="index">Home</a></li>
							<li>Update your password.</li>
						</ul>
					</div>
					<!-- Breadcrumb row END -->
                </div>
            </div>
        </div>
        <!-- inner page banner END -->
        <!-- contact area -->
        <div class="section-full content-inner browse-job bg-white shop-account">
            <!-- Product -->
            <div class="container">
                <div class="row">
					<div class="col-md-12 m-b30">
						<div class="card max-w500 radius-sm m-auto">
							<div class="tab-content">
								<form id="login" class="tab-pane active">
									<h4 class="font-weight-700 m-b5">CHANGE PASSWORD</h4>
								<!--	<p class="font-weight-600">If you have an account with us, please log in.</p> -->

						<p>
							<h6 class="alert alert-success" role="alert" id="apisuccess"> </h6>
							<h6 class="alert alert-danger" role="alert"  id="apierror"> </h6>
							<h6 class="alert alert-danger" role="alert"  id="msg"> </h6>
							
					  
									<div class="form-group">
										<!-- <label class="font-weight-700">Password *</label> -->
										<input name="dzName" required=""  id="changepw_form_passwd" class="form-control " placeholder="Enter New Password" type="password">
									</div>
									<div class="form-group">
										<!-- <label class="font-weight-700">Confirm Password *</label> -->
										<input name="dzName" required="" id="changepw_form_confirmpasswd" class="form-control " placeholder="Confirm New Password" type="password">
										<!-- <input name="dzName" required="" id="changepw_form_oldp" class="form-control " placeholder="Confirm New Password" type="hidden"> -->
									</div>
									<div class="text-left">
		 <button class="site-button button-lg outline outline-2" id="submitPass">Update Password</button>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
            <!-- Product END -->
		</div>
		<!-- contact area  END -->
    </div>
    <!-- Content END-->
	
	<div id="getFooter"></div>
	</div>

<script src="js/jquery.min.js"></script><!-- JQUERY.MIN JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script type="text/javascript">



                      
                          
              

  $('#apisuccess').hide();  
  $('#apierror').hide();    
  $('#msg').hide(); 

$(function(){
 $("#header").load("include/header.html");  
  $("#getFooter").load("include/footer.html"); 
 
});
 
$(document).ready(function(){
var Urltoken = window.location.hash.substr(1);
 
if (!Urltoken) {
      window.location.replace("https://cocobills.com/login");
    }else
    {   

// Use URLSearchParams to parse the fragment (hash) part of the URL
const token  = Urltoken.split('&')[0];
const phoneNumber  = Urltoken.split('&')[1];
 
if (token && phoneNumber) {
  console.log("Token:", token);
  console.log("Phone Number:", phoneNumber); 
  
  
  

  
$('#submitPass').on("click", function(event){
      event.preventDefault();   
 
const newPass = document.getElementById('changepw_form_passwd').value;
const confirmPass = document.getElementById('changepw_form_confirmpasswd').value;  
 
    if (newPass==null || newPass==""){   
          $('#apierror').show(); 
          $('#apierror').attr("class","alert alert-danger"); 
            document.getElementById("apierror").innerHTML="New Password  is  empty";  
            return false;  
    }else if (confirmPass==null || confirmPass==""){  
          $('#apierror').show(); 
          $('#apierror').attr("class","alert alert-danger");  
            document.getElementById("apierror").innerHTML="Current Password  is  empty";  
            return false;  
    }else if(newPass.length<6){  
          $('#apierror').show(); 
          $('#apierror').attr("class","alert alert-danger"); 
        document.getElementById("apierror").innerHTML="New Password is too short."; 
        return false;  
    }else if(newPass !== confirmPass){  
          $('#apierror').show(); 
          $('#apierror').attr("class","alert alert-danger"); 
        document.getElementById("apierror").innerHTML="Confirm Password did not must match."; 
        return false;  
    }
 
 
   $.ajax({
    dataType: 'JSON', 
    url: 'https://staging.cocobills.com/updatepassword',
    type: 'POST',
    data:{   
      currentPass:Urltoken, 
      newPass:newPass
    },
        // data: $('#contact').serialize(),
        beforeSend: function(xhr){
          $('#submitPass').html('Updating...');
        },
        success: function(response){    
         if(response.status === "Success"){ 
 
              Swal.fire({ 
                    title: "Password changed successfully.", 
                    icon: "success", 
                    confirmButtonColor: "#3085d6", 
                    confirmButtonText: "Login to continue"
                }).then((result) => {
                  if (result.isConfirmed) {
                    window.location.replace('login');
                  }
                });


          $('#apisuccess').show(); 
          $('#apisuccess').attr("class","alert alert-success");
          $('#apisuccess').html(response.message);
          $('#apierror').hide();  
          }else{ 
        
         Swal.fire({ 
                    title: response.message, 
                    icon: "error", 
                    confirmButtonColor: "#3085d6", 
                    confirmButtonText: "Reset password"
                }).then((result) => {
                  if (result.isConfirmed) {
                      window.location.replace('login'); 
                  }
                });
                
                
          $('#apierror').show(); 
          $('#apierror').attr("class","alert alert-danger");
          $('#apierror').html(response.message);
                    
                    } 
        },
    complete: function(){
         $('#submitPass').html('UPDATE PASSWORD'); 
      },
        error: function(error){
          $('#apierror').show(); 
          $('#apierror').attr("class","alert alert-danger");
              console.log(error, "error")   
        }

  } );  


} );

  
    } else {
  console.log("Token or phone number not found!");
          Swal.fire({
          icon: "error",
          title: "Oops...",
          text: "Token or phone number not found!", 
          confirmButtonText: "OK", // Make sure to change the button text to "OK"
                        }).then((result) => {
                          if (result.isConfirmed) {
                            window.location.replace("https://cocobills.com/login"); // Reload the page after confirmation
                          }
                        });
                        
                        
    } 
}		
});			
	 
	</script>
	</body>
</html>
